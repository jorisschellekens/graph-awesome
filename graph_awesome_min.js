function __get_text_width(t,e){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.visibility="hidden",document.body.appendChild(r);const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("font-size",e),n.textContent=t,r.appendChild(n);const i=n.getBBox().width;return document.body.removeChild(r),i}function __generate_legend(t,e,r=20){const n=t.length,i=Math.ceil(Math.sqrt(1.618*n)),s=Math.ceil(n/i),a=Math.max(...t.map((t=>__get_text_width(t,r,"Arial")))),o=.25*r,c=r+o+a+o,h=r+o,l=i*c,u=s*h,d="http://www.w3.org/2000/svg",b=document.createElementNS(d,"svg");return b.setAttribute("width",l),b.setAttribute("height",u),t.forEach(((t,n)=>{const s=n%i,a=Math.floor(n/i),o=s*c,l=a*h,u=document.createElementNS(d,"g"),g=document.createElementNS(d,"rect");g.setAttribute("x",o),g.setAttribute("y",l),g.setAttribute("rx",r/20),g.setAttribute("ry",r/20),g.setAttribute("width",r),g.setAttribute("height",r),g.setAttribute("fill",e[n%e.length]);const _=document.createElementNS(d,"text");_.setAttribute("x",o+r+.25*r),_.setAttribute("y",l+r),_.setAttribute("font-size",r),_.setAttribute("fill","#000"),_.textContent=t,u.appendChild(g),u.appendChild(_),b.appendChild(u)})),b}function __generate_HSV_colors(t){return 3===t?["#f6511d","#ffb400","#00a6ed"]:4===t?["#219ebc","#023047","#ffb703","#fb8500"]:5==t?["#55dde0","#33658a","#2f4858","#f6ae2d","#f26419"]:Array.from({length:t},((e,r)=>`hsl(${360*r/t}, 100%, 50%)`))}function __bar_chart(t,e,r=100,n=100,i=10){const s=Math.max(...e),a=(r-2*i)/e.length,o=__generate_HSV_colors(e.length),c="http://www.w3.org/2000/svg",h=document.createElementNS(c,"svg");return h.setAttribute("width",r),h.setAttribute("height",n),e.forEach(((t,e)=>{const r=t/s*(n-i),l=document.createElementNS(c,"rect");l.setAttribute("x",e*a+i),l.setAttribute("y",n-r),l.setAttribute("rx",a/20),l.setAttribute("ry",a/20),l.setAttribute("width",a-2),l.setAttribute("height",r),l.setAttribute("fill",o[e%o.length]),h.appendChild(l)})),h}function __bubble_chart(t,e,r,n=400,i=200,s=40){const a=Math.max(...r),o=Math.min(...t),c=Math.max(...t),h=Math.min(...e),l=Math.max(...e),u=__generate_HSV_colors(t.length),d="http://www.w3.org/2000/svg",b=document.createElementNS(d,"svg");return b.setAttribute("width",n),b.setAttribute("height",i),b.setAttribute("viewBox",`0 0 ${n} ${i}`),t.forEach(((t,g)=>{const _=s+(t-o)/(c-o)*(n-2*s),m=i-s-(e[g]-h)/(l-h)*(i-2*s),p=r[g]/a*5+1,A=document.createElementNS(d,"circle");A.setAttribute("cx",_),A.setAttribute("cy",m),A.setAttribute("r",p),A.setAttribute("fill",u[g%u.length]),A.setAttribute("opacity","0.6"),b.appendChild(A)})),b}function __donut_chart(t,e,r=40,n=20,i=10){const s=e.reduce(((t,e)=>t+e),0);let a=0;const o=r+i,c=r+i,h=__generate_HSV_colors(e.length),l="http://www.w3.org/2000/svg",u=document.createElementNS(l,"svg");return u.setAttribute("width",""+2*(r+i)),u.setAttribute("height",""+2*(r+i)),e.forEach(((t,e)=>{const i=t/s*2*Math.PI,d=o+r*Math.cos(a),b=c+r*Math.sin(a),g=o+n*Math.cos(a),_=c+n*Math.sin(a);a+=i;const m=o+r*Math.cos(a),p=c+r*Math.sin(a),A=o+n*Math.cos(a),w=c+n*Math.sin(a),f=i>Math.PI?1:0,M=document.createElementNS(l,"path"),$=`M ${g} ${_} L ${d} ${b} A ${r} ${r} 0 ${f} 1 ${m} ${p} L ${A} ${w} A ${n} ${n} 0 ${f} 0 ${g} ${_} Z`;M.setAttribute("d",$),M.setAttribute("fill",h[e%h.length]),u.appendChild(M)})),u}function __line_chart(t,e,r=100,n=100,i=10){const s=Math.max(...e),a=Math.min(...e),o=__generate_HSV_colors(3),c="http://www.w3.org/2000/svg",h=document.createElementNS(c,"svg");h.setAttribute("width",r),h.setAttribute("height",n),h.setAttribute("viewBox",`0 0 ${r} ${n}`);const l=(r-2*i)/(t.length-1),u=(n-2*i)/(s-a);let d="M";e.forEach(((t,e)=>{d+=`${i+e*l},${n-i-(t-a)*u} `}));const b=document.createElementNS(c,"path");return b.setAttribute("d",d.trim()),b.setAttribute("stroke",o[0]),b.setAttribute("stroke-width","2"),b.setAttribute("fill","none"),h.appendChild(b),e.forEach(((t,e)=>{const r=i+e*l,s=n-i-(t-a)*u,d=document.createElementNS(c,"circle");d.setAttribute("cx",r),d.setAttribute("cy",s),d.setAttribute("r",4),d.setAttribute("fill",o[1]),h.appendChild(d)})),h}function __pie_chart(t,e,r=100,n=10){const i=e.reduce(((t,e)=>t+e),0);let s=0;const a=r+n,o=r+n,c=__generate_HSV_colors(e.length),h="http://www.w3.org/2000/svg",l=document.createElementNS(h,"svg");return l.setAttribute("width",""+2*(r+n)),l.setAttribute("height",""+2*(r+n)),e.forEach(((t,e)=>{const n=t/i*2*Math.PI,u=a+r*Math.cos(s),d=o+r*Math.sin(s);s+=n;const b=a+r*Math.cos(s),g=o+r*Math.sin(s),_=n>Math.PI?1:0,m=document.createElementNS(h,"path"),p=`M ${a} ${o} L ${u} ${d} A ${r} ${r} 0 ${_} 1 ${b} ${g} Z`;m.setAttribute("d",p),m.setAttribute("fill",c[e%c.length]),l.appendChild(m)})),l}function __process_dom(){document.querySelectorAll(".ga-bar, .ga-bubble, .ga-donut, .ga-line, .ga-pie").forEach((t=>{const e=t.className.split(" ");let r,n=256,i=256,s=[],a=[],o=[],c="bar",h=!1;e.forEach((t=>{t.startsWith("ga-xs-")&&(s=t.split("-").slice(2)),t.startsWith("ga-ys-")&&(a=t.split("-").slice(2).map((t=>parseFloat(t))).filter((t=>!isNaN(t)))),t.startsWith("ga-zs-")&&(o=t.split("-").slice(2).map((t=>parseFloat(t))).filter((t=>!isNaN(t)))),t.startsWith("ga-legend")&&(h=!0),"ga-bar"===t&&(c="bar"),"ga-bubble"===t&&(c="bubble"),"ga-donut"===t&&(c="donut"),"ga-line"===t&&(c="line"),"ga-pie"===t&&(c="pie"),"ga-2xs"===t&&(n=32,i=32),"ga-xs"===t&&(n=64,i=64),"ga-s"===t&&(n=128,i=128),"ga-l"===t&&(n=512,i=512),"ga-xl"===t&&(n=1024,i=1024),"ga-2xl"===t&&(n=2048,i=2048)})),"bubble"===c?(a=a.map((t=>parseFloat(t))).filter((t=>!isNaN(t))),r=__bubble_chart(s,a,o,n,i,n/10),h=!1):"donut"===c?r=__donut_chart(s,a,(n-n/10*2)/2,(n-n/10*2)/4,n/10):"line"===c?(h=!1,a=a.map((t=>parseFloat(t))).filter((t=>!isNaN(t))),r=__line_chart(s,a,n,i,n/10)):r="pie"===c?__pie_chart(s,a,(n-n/10*2)/2,n/10):__bar_chart(s,a,n,i,n/10),t.replaceWith(r),h&&r.parentNode.insertBefore(__generate_legend(s,__generate_HSV_colors(s.length),n/10,n/20),r.nextSibling)}))}document.addEventListener("DOMContentLoaded",__process_dom);const observer=new MutationObserver(__process_dom);observer.observe(document.body,{childList:!0,subtree:!0});
