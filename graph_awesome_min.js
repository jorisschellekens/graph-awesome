function __generate_legend(t,e,r=20,s=10){const a=t.length,n=Math.ceil(Math.sqrt(1.618*a)),i=Math.ceil(a/n),c=Math.max(...t.map((t=>t.length))),o=r+r*c*.5+.25*r,h=r+s,l=n*o,u=i*h,b="http://www.w3.org/2000/svg",g=document.createElementNS(b,"svg");return g.setAttribute("width",l),g.setAttribute("height",u),t.forEach(((t,a)=>{const i=a%n,c=Math.floor(a/n),l=i*o+s,u=c*h+s,d=document.createElementNS(b,"g"),_=document.createElementNS(b,"rect");_.setAttribute("x",l),_.setAttribute("y",u),_.setAttribute("rx",r/20),_.setAttribute("ry",r/20),_.setAttribute("width",r),_.setAttribute("height",r),_.setAttribute("fill",e[a%e.length]);const A=document.createElementNS(b,"text");A.setAttribute("x",l+r+.25*r),A.setAttribute("y",u+r),A.setAttribute("font-size",r),A.setAttribute("fill","#000"),A.textContent=t,d.appendChild(_),d.appendChild(A),g.appendChild(d)})),g}function __generate_HSV_colors(t){return 3===t?["#f6511d","#ffb400","#00a6ed"]:4===t?["#219ebc","#023047","#ffb703","#fb8500"]:5==t?["#55dde0","#33658a","#2f4858","#f6ae2d","#f26419"]:Array.from({length:t},((e,r)=>`hsl(${360*r/t}, 100%, 50%)`))}function __bar_chart(t,e,r=100,s=100,a=10){const n=Math.max(...e),i=(r-2*a)/e.length,c=__generate_HSV_colors(e.length),o="http://www.w3.org/2000/svg",h=document.createElementNS(o,"svg");return h.setAttribute("width",r),h.setAttribute("height",s),e.forEach(((t,e)=>{const r=t/n*(s-a),l=document.createElementNS(o,"rect");l.setAttribute("x",e*i+a),l.setAttribute("y",s-r),l.setAttribute("rx",i/20),l.setAttribute("ry",i/20),l.setAttribute("width",i-2),l.setAttribute("height",r),l.setAttribute("fill",c[e%c.length]),h.appendChild(l)})),h}function __bubble_chart(t,e,r,s=400,a=200,n=40){const i=Math.max(...r),c=Math.min(...t),o=Math.max(...t),h=Math.min(...e),l=Math.max(...e),u=__generate_HSV_colors(t.length),b="http://www.w3.org/2000/svg",g=document.createElementNS(b,"svg");return g.setAttribute("width",s),g.setAttribute("height",a),g.setAttribute("viewBox",`0 0 ${s} ${a}`),t.forEach(((t,d)=>{const _=n+(t-c)/(o-c)*(s-2*n),A=a-n-(e[d]-h)/(l-h)*(a-2*n),m=r[d]/i*5+1,p=document.createElementNS(b,"circle");p.setAttribute("cx",_),p.setAttribute("cy",A),p.setAttribute("r",m),p.setAttribute("fill",u[d%u.length]),p.setAttribute("opacity","0.6"),g.appendChild(p)})),g}function __donut_chart(t,e,r=40,s=20,a=10){const n=e.reduce(((t,e)=>t+e),0);let i=0;const c=r+a,o=r+a,h=__generate_HSV_colors(e.length),l="http://www.w3.org/2000/svg",u=document.createElementNS(l,"svg");return u.setAttribute("width",""+2*(r+a)),u.setAttribute("height",""+2*(r+a)),e.forEach(((t,e)=>{const a=t/n*2*Math.PI,b=c+r*Math.cos(i),g=o+r*Math.sin(i),d=c+s*Math.cos(i),_=o+s*Math.sin(i);i+=a;const A=c+r*Math.cos(i),m=o+r*Math.sin(i),p=c+s*Math.cos(i),f=o+s*Math.sin(i),w=a>Math.PI?1:0,M=document.createElementNS(l,"path"),$=`M ${d} ${_} L ${b} ${g} A ${r} ${r} 0 ${w} 1 ${A} ${m} L ${p} ${f} A ${s} ${s} 0 ${w} 0 ${d} ${_} Z`;M.setAttribute("d",$),M.setAttribute("fill",h[e%h.length]),u.appendChild(M)})),u}function __line_chart(t,e,r=100,s=100,a=10){const n=Math.max(...e),i=Math.min(...e),c=__generate_HSV_colors(3),o="http://www.w3.org/2000/svg",h=document.createElementNS(o,"svg");h.setAttribute("width",r),h.setAttribute("height",s),h.setAttribute("viewBox",`0 0 ${r} ${s}`);const l=(r-2*a)/(t.length-1),u=(s-2*a)/(n-i);let b="M";e.forEach(((t,e)=>{b+=`${a+e*l},${s-a-(t-i)*u} `}));const g=document.createElementNS(o,"path");return g.setAttribute("d",b.trim()),g.setAttribute("stroke",c[0]),g.setAttribute("stroke-width","2"),g.setAttribute("fill","none"),h.appendChild(g),e.forEach(((t,e)=>{const r=a+e*l,n=s-a-(t-i)*u,b=document.createElementNS(o,"circle");b.setAttribute("cx",r),b.setAttribute("cy",n),b.setAttribute("r",4),b.setAttribute("fill",c[1]),h.appendChild(b)})),h}function __pie_chart(t,e,r=100,s=10){const a=e.reduce(((t,e)=>t+e),0);let n=0;const i=r+s,c=r+s,o=__generate_HSV_colors(e.length),h="http://www.w3.org/2000/svg",l=document.createElementNS(h,"svg");return l.setAttribute("width",""+2*(r+s)),l.setAttribute("height",""+2*(r+s)),e.forEach(((t,e)=>{const s=t/a*2*Math.PI,u=i+r*Math.cos(n),b=c+r*Math.sin(n);n+=s;const g=i+r*Math.cos(n),d=c+r*Math.sin(n),_=s>Math.PI?1:0,A=document.createElementNS(h,"path"),m=`M ${i} ${c} L ${u} ${b} A ${r} ${r} 0 ${_} 1 ${g} ${d} Z`;A.setAttribute("d",m),A.setAttribute("fill",o[e%o.length]),l.appendChild(A)})),l}function __process_dom(){document.querySelectorAll(".ga-bar, .ga-bubble, .ga-donut, .ga-line, .ga-pie").forEach((t=>{const e=t.className.split(" ");let r,s=256,a=256,n=[],i=[],c=[],o="bar",h=!1;e.forEach((t=>{t.startsWith("ga-xs-")&&(n=t.split("-").slice(2)),t.startsWith("ga-ys-")&&(i=t.split("-").slice(2).map((t=>parseFloat(t))).filter((t=>!isNaN(t)))),t.startsWith("ga-zs-")&&(c=t.split("-").slice(2).map((t=>parseFloat(t))).filter((t=>!isNaN(t)))),t.startsWith("ga-legend")&&(h=!0),"ga-bar"===t&&(o="bar"),"ga-bubble"===t&&(o="bubble"),"ga-donut"===t&&(o="donut"),"ga-line"===t&&(o="line"),"ga-pie"===t&&(o="pie"),"ga-2xs"===t&&(s=32,a=32),"ga-xs"===t&&(s=64,a=64),"ga-s"===t&&(s=128,a=128),"ga-l"===t&&(s=512,a=512),"ga-xl"===t&&(s=1024,a=1024),"ga-2xl"===t&&(s=2048,a=2048)})),"bubble"===o?(i=i.map((t=>parseFloat(t))).filter((t=>!isNaN(t))),r=__bubble_chart(n,i,c,s,a,s/10),h=!1):"donut"===o?r=__donut_chart(n,i,(s-s/10*2)/2,(s-s/10*2)/4,s/10):"line"===o?(h=!1,i=i.map((t=>parseFloat(t))).filter((t=>!isNaN(t))),r=__line_chart(n,i,s,a,s/10)):r="pie"===o?__pie_chart(n,i,(s-s/10*2)/2,s/10):__bar_chart(n,i,s,a,s/10),t.replaceWith(r),h&&r.parentNode.insertBefore(__generate_legend(n,__generate_HSV_colors(n.length),s/10,s/20),r.nextSibling)}))}document.addEventListener("DOMContentLoaded",__process_dom);const observer=new MutationObserver(__process_dom);observer.observe(document.body,{childList:!0,subtree:!0});
